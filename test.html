<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Test - CGLBB</title>
    <meta property="og:title" content="Test - CGLBB" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta charset="utf-8" />
    <meta property="twitter:card" content="summary_large_image" />

    <style data-tag="reset-style-sheet">
      html {  line-height: 1.15;}body {  margin: 0;}* {  box-sizing: border-box;  border-width: 0;  border-style: solid;  -webkit-font-smoothing: antialiased;}p,li,ul,pre,div,h1,h2,h3,h4,h5,h6,figure,blockquote,figcaption {  margin: 0;  padding: 0;}button {  background-color: transparent;}button,input,optgroup,select,textarea {  font-family: inherit;  font-size: 100%;  line-height: 1.15;  margin: 0;}button,select {  text-transform: none;}button,[type="button"],[type="reset"],[type="submit"] {  -webkit-appearance: button;  color: inherit;}button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner {  border-style: none;  padding: 0;}button:-moz-focus,[type="button"]:-moz-focus,[type="reset"]:-moz-focus,[type="submit"]:-moz-focus {  outline: 1px dotted ButtonText;}a {  color: inherit;  text-decoration: inherit;}input {  padding: 2px 4px;}img {  display: block;}details {  display: block;  margin: 0;  padding: 0;}summary::-webkit-details-marker {  display: none;}[data-thq="accordion"] [data-thq="accordion-content"] {  max-height: 0;  overflow: hidden;  transition: max-height 0.3s ease-in-out;  padding: 0;}[data-thq="accordion"] details[data-thq="accordion-trigger"][open] + [data-thq="accordion-content"] {  max-height: 1000vh;}details[data-thq="accordion-trigger"][open] summary [data-thq="accordion-icon"] {  transform: rotate(180deg);}html { scroll-behavior: smooth  }
    </style>
    <style data-tag="default-style-sheet">
      html {
        font-family: Inter;
        font-size: 16px;
      }

      body {
        font-weight: 400;
        font-style:normal;
        text-decoration: none;
        text-transform: none;
        letter-spacing: normal;
        line-height: 1.15;
        color: var(--dl-color-gray-black);
        background: var(--dl-color-gray-white);

        fill: var(--dl-color-gray-black);
      }
    </style>
    <link
      rel="stylesheet"
      href="https://unpkg.com/animate.css@4.1.1/animate.css"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;0,800;0,900;1,400;1,500;1,600;1,700;1,800;1,900&amp;display=swap"
      data-tag="font"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&amp;display=swap"
      data-tag="font"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/@teleporthq/teleport-custom-scripts/dist/style.css"
    />
    <!--This is the head section-->
    <!-- <style> ... </style> -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/blaze-slider@latest/dist/blaze.css"
    />
  </head>
  <body>
    <link rel="stylesheet" href="./style.css" />
    <div>
      <link href="./test.css" rel="stylesheet" />

      <div class="test-container1">
        <section class="test-hero">
          <header data-thq="thq-navbar" class="test-navbar">
            <img alt="image" src="public/logo1.svg" class="test-branding" />
            <div data-thq="thq-mobile-menu" class="test-mobile-menu">
              <div
                data-thq="thq-mobile-menu-nav"
                data-role="Nav"
                class="test-nav1"
              >
                <div class="test-container2">
                  <img
                    alt="image"
                    src="https://play.teleporthq.io/static/svg/placeholders/no-image.svg"
                    class="test-image"
                  />
                  <div data-thq="thq-close-menu" class="test-menu-close">
                    <svg viewBox="0 0 1024 1024" class="test-icon1">
                      <path
                        d="M810 274l-238 238 238 238-60 60-238-238-238 238-60-60 238-238-238-238 60-60 238 238 238-238z"
                      ></path>
                    </svg>
                  </div>
                </div>
                <nav
                  data-thq="thq-mobile-menu-nav-links"
                  data-role="Nav"
                  class="test-nav2"
                >
                  <span class="test-text1">About</span>
                  <span class="test-text2">Features</span>
                  <span class="test-text3">Pricing</span>
                  <span class="test-text4">Team</span>
                  <span class="test-text5">Blog</span>
                </nav>
                <div class="test-container3">
                  <button class="test-login button">Login</button>
                  <button class="button">Register</button>
                </div>
              </div>
              <div class="test-icon-group">
                <svg viewBox="0 0 950.8571428571428 1024" class="test-icon3">
                  <path
                    d="M925.714 233.143c-25.143 36.571-56.571 69.143-92.571 95.429 0.571 8 0.571 16 0.571 24 0 244-185.714 525.143-525.143 525.143-104.571 0-201.714-30.286-283.429-82.857 14.857 1.714 29.143 2.286 44.571 2.286 86.286 0 165.714-29.143 229.143-78.857-81.143-1.714-149.143-54.857-172.571-128 11.429 1.714 22.857 2.857 34.857 2.857 16.571 0 33.143-2.286 48.571-6.286-84.571-17.143-148-91.429-148-181.143v-2.286c24.571 13.714 53.143 22.286 83.429 23.429-49.714-33.143-82.286-89.714-82.286-153.714 0-34.286 9.143-65.714 25.143-93.143 90.857 112 227.429 185.143 380.571 193.143-2.857-13.714-4.571-28-4.571-42.286 0-101.714 82.286-184.571 184.571-184.571 53.143 0 101.143 22.286 134.857 58.286 41.714-8 81.714-23.429 117.143-44.571-13.714 42.857-42.857 78.857-81.143 101.714 37.143-4 73.143-14.286 106.286-28.571z"
                  ></path></svg
                ><svg viewBox="0 0 877.7142857142857 1024" class="test-icon5">
                  <path
                    d="M585.143 512c0-80.571-65.714-146.286-146.286-146.286s-146.286 65.714-146.286 146.286 65.714 146.286 146.286 146.286 146.286-65.714 146.286-146.286zM664 512c0 124.571-100.571 225.143-225.143 225.143s-225.143-100.571-225.143-225.143 100.571-225.143 225.143-225.143 225.143 100.571 225.143 225.143zM725.714 277.714c0 29.143-23.429 52.571-52.571 52.571s-52.571-23.429-52.571-52.571 23.429-52.571 52.571-52.571 52.571 23.429 52.571 52.571zM438.857 152c-64 0-201.143-5.143-258.857 17.714-20 8-34.857 17.714-50.286 33.143s-25.143 30.286-33.143 50.286c-22.857 57.714-17.714 194.857-17.714 258.857s-5.143 201.143 17.714 258.857c8 20 17.714 34.857 33.143 50.286s30.286 25.143 50.286 33.143c57.714 22.857 194.857 17.714 258.857 17.714s201.143 5.143 258.857-17.714c20-8 34.857-17.714 50.286-33.143s25.143-30.286 33.143-50.286c22.857-57.714 17.714-194.857 17.714-258.857s5.143-201.143-17.714-258.857c-8-20-17.714-34.857-33.143-50.286s-30.286-25.143-50.286-33.143c-57.714-22.857-194.857-17.714-258.857-17.714zM877.714 512c0 60.571 0.571 120.571-2.857 181.143-3.429 70.286-19.429 132.571-70.857 184s-113.714 67.429-184 70.857c-60.571 3.429-120.571 2.857-181.143 2.857s-120.571 0.571-181.143-2.857c-70.286-3.429-132.571-19.429-184-70.857s-67.429-113.714-70.857-184c-3.429-60.571-2.857-120.571-2.857-181.143s-0.571-120.571 2.857-181.143c3.429-70.286 19.429-132.571 70.857-184s113.714-67.429 184-70.857c60.571-3.429 120.571-2.857 181.143-2.857s120.571-0.571 181.143 2.857c70.286 3.429 132.571 19.429 184 70.857s67.429 113.714 70.857 184c3.429 60.571 2.857 120.571 2.857 181.143z"
                  ></path></svg
                ><svg viewBox="0 0 602.2582857142856 1024" class="test-icon7">
                  <path
                    d="M548 6.857v150.857h-89.714c-70.286 0-83.429 33.714-83.429 82.286v108h167.429l-22.286 169.143h-145.143v433.714h-174.857v-433.714h-145.714v-169.143h145.714v-124.571c0-144.571 88.571-223.429 217.714-223.429 61.714 0 114.857 4.571 130.286 6.857z"
                  ></path>
                </svg>
              </div>
            </div>
            <div class="test-container4">
              <div class="test-container5">
                <!-- ðŸ”˜ Toggle EN/ES con auto-detector por idioma del navegador -->
                <div id="lang-toggle-teleport" style="display:inline-block">
                  <button
                    id="lang-toggle-btn"
                    aria-label="Cambiar idioma"
                    title="Cambiar idioma"
                    style="
      all: unset;
      display: inline-flex; align-items: center; justify-content: center;
      min-width: 40px; height: 32px; padding: 0 10px;
      border: 1px solid rgba(255,255,255,.35);
      background: rgba(255,255,255,.10);
      color: #fff; font: 600 13px/1 system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      letter-spacing: .5px; border-radius: 8px; cursor: pointer;
      user-select: none; -webkit-tap-highlight-color: transparent;
      transition: transform .08s ease;
    "
                  >
                    EN
                  </button>

                  <style>
                    #lang-toggle-teleport #lang-toggle-btn:hover{ filter: brightness(1.15); }
                    #lang-toggle-teleport #lang-toggle-btn:active{ transform: translateY(1px); }

                    /* Para fijarlo en pantalla, descomenta:
                    #lang-toggle-teleport{ position: fixed; right: 16px; bottom: 16px; z-index: 9999; } */
                  </style>

                  <script>
                    (function () {
                      const STORAGE_KEY = 'site:lang';
                      const LANGS = ['EN', 'ES'];
                      const DEFAULT_LANG = 'EN'; // fallback final si todo falla

                      const root = document.getElementById('lang-toggle-teleport');
                      if (!root) return;
                      const btn = root.querySelector('#lang-toggle-btn');

                      // âœ… DetecciÃ³n de espaÃ±ol por idioma del navegador
                      function browserPrefersSpanish(){
                        try{
                          const list = (navigator.languages && navigator.languages.length ? navigator.languages : [navigator.language])
                                        .filter(Boolean)
                                        .map(x => String(x).toLowerCase());
                          // espaÃ±ol si alguno empieza por 'es-' o es exactamente 'es'
                          return list.some(code => code === 'es' || code.startsWith('es-'));
                        }catch(e){ return false; }
                      }

                      // Carga preferencia guardada o, si no existe, decide por idioma del navegador
                      function initialLang(){
                        try{
                          const saved = localStorage.getItem(STORAGE_KEY);
                          if (saved && LANGS.includes(saved)) return saved;
                        }catch(e){}
                        return browserPrefersSpanish() ? 'ES' : DEFAULT_LANG;
                      }

                      // ExposiciÃ³n global + data-lang para CSS
                      function expose(lang){
                        window.APP_LANG = lang;                                   // variable global
                        document.documentElement.dataset.lang = lang;             // <html data-lang='ES|EN'>
                        // document.documentElement.setAttribute('lang', lang.toLowerCase()); // opcional
                      }

                      function apply(lang){
                        btn.textContent = lang;
                        btn.setAttribute('data-lang', lang);
                        expose(lang);
                        try{ localStorage.setItem(STORAGE_KEY, lang); }catch(e){}
                        window.dispatchEvent(new CustomEvent('languagechange', { detail: { lang } }));
                      }

                      let current = initialLang();
                      if (!LANGS.includes(current)) current = DEFAULT_LANG;
                      apply(current);

                      btn.addEventListener('click', function(){
                        const i = LANGS.indexOf(current);
                        current = LANGS[(i + 1) % LANGS.length];
                        apply(current);
                      });
                    })();
                  </script>
                </div>
              </div>
            </div>
          </header>
        </section>
        <div class="test-cases">
          <div class="test-container6">
            <div class="test-container7">
              <section
                id="usecases"
                style="
  width:100%;
  max-width:1100px;
  margin:0 auto;
  padding:0 clamp(12px,3vw,32px);
  box-sizing:border-box;
  color:#fff;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
"
              >
                <h2
                  class="uc-heading"
                  style="
    margin:0 0 clamp(28px,6vw,60px) 0;
    font-size:calc(clamp(18px,2.6vw,26px) * 2);
    font-weight:800;
    line-height:1.2;
    text-align:center;
    color:#fff;
  "
                >
                  Use Cases
                </h2>

                <div class="uc-grid"></div>

                <!-- Modal -->
                <div
                  id="uc-modal-backdrop"
                  class="uc-modal-backdrop"
                  role="dialog"
                  aria-modal="true"
                  aria-labelledby="uc-modal-title"
                >
                  <div class="uc-modal" tabindex="-1">
                    <button
                      class="uc-modal-close"
                      type="button"
                      aria-label="Close"
                    >
                      âœ• Cerrar
                    </button>
                    <h3 id="uc-modal-title"></h3>
                    <p id="uc-modal-body"></p>
                    <div id="uc-modal-media" style="margin-top:16px;"></div>
                  </div>
                </div>
              </section>

              <style>
                .uc-grid{
                  display:grid;
                  grid-template-columns:repeat(2,1fr);
                  align-items:start;
                  gap:0;
                }
                .uc-item{
                  position:relative;
                  padding:clamp(18px,2.6vw,28px);
                  border-left:1px solid rgba(255,255,255,0.15);
                  border-bottom:1px solid rgba(255,255,255,0.15);
                }
                .uc-item:nth-child(2n+1){ border-left:none; }

                .uc-title{
                  margin:0 0 8px 0;
                  font-weight:800;
                  line-height:1.25;
                  font-size:clamp(18px,2.6vw,26px);
                  color:#fff;
                }

                .uc-desc{
                  margin:0;
                  color:rgba(255,255,255,.85);
                  font-size:clamp(14px,2.1vw,16px);
                  line-height:1.6;
                  white-space:pre-wrap;
                }
                .uc-desc.truncated{
                  --uc-max-lines: 4;
                  max-height: calc(var(--uc-max-lines,4) * 1.6em);
                  overflow:hidden;
                  display:-webkit-box;
                  -webkit-line-clamp: var(--uc-max-lines,4);
                  -webkit-box-orient: vertical;
                  -webkit-mask-image: linear-gradient(180deg, #000 70%, rgba(0,0,0,0) 100%);
                          mask-image: linear-gradient(180deg, #000 70%, rgba(0,0,0,0) 100%);
                }

                .uc-read-more{
                  position:absolute;
                  right:clamp(12px,2vw,16px);
                  bottom:clamp(12px,2vw,16px);
                  padding:6px 10px;
                  border-radius:8px;
                  background:rgba(255,255,255,0.12);
                  color:#fff;
                  font-size:12px;
                  font-weight:600;
                  letter-spacing:.2px;
                  border:1px solid rgba(255,255,255,0.2);
                  cursor:pointer;
                  backdrop-filter: blur(4px);
                  transition:transform .15s ease, background .2s ease;
                }
                .uc-item.uc-has-button{ padding-bottom:calc(clamp(18px,2.6vw,28px) + 38px); }
                .uc-read-more:hover{ transform:translateY(-1px); background:rgba(255,255,255,0.18); }

                /* Media (solo se usa dentro del modal, pero dejo estilos namespaced) */
                .uc-media{
                  margin:0 0 clamp(10px,1.5vw,16px) 0;
                  border-radius:12px;
                  overflow:hidden;
                }
                .uc-media > img,
                .uc-media > video{ display:block; width:100%; height:auto; border-radius:12px; object-fit:cover; }

                .uc-iframe-box{
                  position:relative; width:100%; aspect-ratio:16/9; background:#000;
                  border-radius:12px; overflow:hidden; max-height:85vh;
                }
                .uc-iframe-box[data-ratio='9/16']{ aspect-ratio:9/16; }
                .uc-iframe-box > iframe{ position:absolute; inset:0; width:100%; height:100%; border:0; display:block; }

                .uc-linkwrap{ text-align:center; }
                .uc-linkbtn{
                  display:inline-block; margin-top:10px; padding:12px 20px; border-radius:10px;
                  background:#2b2b2b; text-decoration:none; font-weight:700;
                  font-size:clamp(14px,1.8vw,16px); color:#fff; box-shadow:0 2px 6px rgba(0,0,0,.3);
                  transition:all .25s ease; transform-origin:center;
                }
                .uc-linkbtn:hover{
                  background:#3a3a3a; box-shadow:0 0 15px rgba(180,180,180,.6), 0 0 30px rgba(180,180,180,.4);
                  transform:scale(1.07) rotate(-1deg);
                }

                @media (max-width:800px){
                  .uc-grid{ grid-template-columns:1fr; }
                  .uc-item{ border-left:none; }
                  .uc-item:first-child{ border-top:1px solid rgba(255,255,255,0.15); }
                }

                /* Modal */
                .uc-modal-backdrop{
                  position:fixed; inset:0; background:rgba(0,0,0,.55);
                  display:none; align-items:center; justify-content:center; z-index:9999;
                }
                .uc-modal-backdrop.open{ display:flex; }
                .uc-modal{
                  width:min(900px, 92vw); max-height:85vh; background:#0f1115; color:#fff;
                  border:1px solid rgba(255,255,255,0.18); border-radius:16px;
                  box-shadow:0 20px 60px rgba(0,0,0,.45); padding:clamp(16px,2.5vw,24px); overflow:auto;
                }
                .uc-modal h3{ margin:0 0 12px 0; font-size:clamp(18px,2.2vw,24px); font-weight:800; line-height:1.25; }
                .uc-modal p{ margin:0; font-size:clamp(14px,2.1vw,16px); line-height:1.7; white-space:pre-wrap; color:rgba(255,255,255,.92); }
                .uc-modal-close{
                  position:sticky; top:0; margin-left:auto; display:inline-flex; align-items:center; gap:8px;
                  padding:6px 10px; border-radius:10px; background:rgba(255,255,255,0.08); color:#fff;
                  font-size:12px; border:1px solid rgba(255,255,255,0.18); cursor:pointer; float:right;
                }
              </style>

              <script>
                (() => {
                  const ROOT = document.getElementById('usecases');
                  if (!ROOT) return;

                  /* === Sheet fijo (A..G) === */
                  const SHEET_ID  = '14Z6jZrF9j9J08PQFLHTJL2PuEnQ62HCE0pGJ80gqaeQ';
                  const SHEET_GID = '1421800987';
                  const jsonUrl   = `https://docs.google.com/spreadsheets/d/${SHEET_ID}/gviz/tq?tqx=out:json&gid=${encodeURIComponent(SHEET_GID)}`;

                  /* === Truncado === */
                  const MAX_LINES = 4;
                  const LENGTH_THRESHOLD = 180;
                  const LINE_HEIGHT = 1.6;

                  /* === Helpers (scoped) === */
                  const clean   = s => (s ?? '').toString().replace(/[\u00A0\u202F\u2007]/g,' ').trim();
                  const cellTxt = c => clean(c?.f ?? c?.v ?? '');
                  const getLang = () => {
                    const v = (window.APP_LANG || localStorage.getItem('site:lang') || 'ES').toString().toUpperCase();
                    return v === 'EN' ? 'EN' : 'ES';
                  };

                  // Detectores de medios (para el MODAL)
                  const ucIsVideoFile = u => /\.(mp4|webm|ogg)(\?|#|$)/i.test(u||'');
                  const ucVimeoMatch  = u => (u||'').match(/vimeo\.com\/(\d+)/);
                  const ucTikTokMatch = u => (u||'').match(/tiktok\.com\/@[^/]+\/video\/(\d+)/);
                  const ucDriveMatch  = u => (u||'').match(/drive\.google\.com\/file\/d\/([^/]+)/);
                  const ucIsYouTube   = u => /(?:youtu\.be\/|youtube\.com\/watch\?v=)/i.test(u||'');
                  const ucIsInstagram = u => /instagram\.com\/(?:p|reel)\//i.test(u||'');

                  function ucCreateIframeBox(src, {ratio='16/9'} = {}){
                    const box = document.createElement('div');
                    box.className = 'uc-media uc-iframe-box';
                    box.dataset.ratio = ratio;
                    const i = document.createElement('iframe');
                    i.src = src; i.loading='lazy'; i.allowFullscreen = true;
                    box.appendChild(i);
                    return box;
                  }

                  function ucRenderMedia({url, poster, lang}){
                    const s = (url||'').trim();
                    if (!s) return null;

                    if (ucIsVideoFile(s)){
                      const v=document.createElement('video');
                      v.src=s; v.controls=true; v.playsInline=true;
                      if (poster) v.setAttribute('poster', poster);
                      v.className='uc-media';
                      return v;
                    }
                    const vm = ucVimeoMatch(s);
                    if (vm) return ucCreateIframeBox(`https://player.vimeo.com/video/${vm[1]}`, {ratio:'16/9'});

                    const tk = ucTikTokMatch(s);
                    if (tk) return ucCreateIframeBox(`https://www.tiktok.com/embed/${tk[1]}`, {ratio:'9/16'});

                    const gd = ucDriveMatch(s);
                    if (gd) return ucCreateIframeBox(`https://drive.google.com/file/d/${gd[1]}/preview`, {ratio:'16/9'});

                    // YouTube / Instagram â†’ botÃ³n dentro del modal
                    if (ucIsYouTube(s) || ucIsInstagram(s)){
                      const wrap = document.createElement('div');
                      wrap.className = 'uc-linkwrap';
                      const a = document.createElement('a');
                      a.href = s; a.target = '_blank'; a.rel = 'noopener';
                      a.className = 'uc-linkbtn';
                      a.textContent = ucIsYouTube(s)
                        ? (lang==='EN' ? 'Watch on YouTube'   : 'Ver en YouTube')
                        : (lang==='EN' ? 'View on Instagram' : 'Ver en Instagram');
                      wrap.appendChild(a);
                      return wrap;
                    }

                    // Default: imagen
                    const img=document.createElement('img');
                    img.src=s; img.alt=''; img.loading='lazy';
                    const wrap=document.createElement('div');
                    wrap.className='uc-media';
                    wrap.appendChild(img);
                    return wrap;
                  }

                  /* === Estado === */
                  let cachedRows = [];
                  let openIndex  = null;

                  /* === Modal === */
                  const modalBackdrop = ROOT.querySelector('#uc-modal-backdrop');
                  const modalTitleEl  = ROOT.querySelector('#uc-modal-title');
                  const modalBodyEl   = ROOT.querySelector('#uc-modal-body');
                  const modalMediaEl  = ROOT.querySelector('#uc-modal-media');
                  const modalCloseBtn = ROOT.querySelector('.uc-modal-close');

                  function openUCModal({ title, body, media, href, poster, lang }, rowIndex){
                    modalTitleEl.textContent = title || '';
                    modalBodyEl.textContent  = body  || '';
                    modalMediaEl.innerHTML   = '';

                    const url = (media || href || '').trim();
                    if (url){
                      const mediaEl = ucRenderMedia({ url, poster, lang });
                      if (mediaEl) modalMediaEl.appendChild(mediaEl);
                    }

                    modalBackdrop.classList.add('open');
                    openIndex = rowIndex ?? null;
                    (modalCloseBtn || modalBackdrop.querySelector('.uc-modal'))?.focus();
                  }
                  function closeUCModal(){ modalBackdrop.classList.remove('open'); openIndex = null; }
                  modalCloseBtn.addEventListener('click', closeUCModal);
                  modalBackdrop.addEventListener('click', e => { if (e.target === modalBackdrop) closeUCModal(); });
                  window.addEventListener('keydown', e => { if (e.key === 'Escape' && modalBackdrop.classList.contains('open')) closeUCModal(); });

                  /* === Mapeo A..G === */
                  // A: EN Title(0), B: EN Text(1), C: ES Title(2), D: ES Text(3), E: Media(4), F: Href(5), G: Poster(6)
                  function mapRowToUC(cells, lang){
                    const c = cells || [];
                    return (lang === 'EN')
                      ? { t: cellTxt(c[0]), d: cellTxt(c[1]), m: cellTxt(c[4]), h: cellTxt(c[5]), p: cellTxt(c[6]) }
                      : { t: cellTxt(c[2]), d: cellTxt(c[3]), m: cellTxt(c[4]), h: cellTxt(c[5]), p: cellTxt(c[6]) };
                  }

                  function renderUCForLang(lang){
                    const grid = ROOT.querySelector('.uc-grid');
                    if (!grid) return;
                    grid.innerHTML = '';

                    const h2 = ROOT.querySelector('.uc-heading');
                    if (h2){ h2.textContent = (lang === 'EN') ? 'Use Cases' : 'Casos de uso'; }

                    const frag = document.createDocumentFragment();

                    cachedRows.forEach((r, idx)=>{
                      const uc = mapRowToUC(r?.c || [], lang);
                      // Si no hay nada, salta
                      if (!uc.t && !uc.d && !uc.m && !uc.h) return;

                      const item = document.createElement('article');
                      item.className = 'uc-item';
                      item.dataset.rowIndex = idx.toString();

                      // TÃ­tulo
                      if (uc.t){
                        const h3 = document.createElement('h3');
                        h3.className = 'uc-title';
                        h3.textContent = uc.t;
                        item.appendChild(h3);
                      }

                      // DescripciÃ³n (en la tarjeta principal) â€” SIN media aquÃ­
                      if (uc.d){
                        const p = document.createElement('p');
                        p.className = 'uc-desc';
                        p.textContent = uc.d;
                        item.appendChild(p);
                      }

                      // (No se aÃ±ade media en la vista principal)

                      frag.appendChild(item);
                    });

                    grid.appendChild(frag);

                    // Truncado + botÃ³n (aparece si el texto es largo O si hay media/link)
                    grid.querySelectorAll('.uc-item').forEach(item=>{
                      const idx = Number(item.dataset.rowIndex || -1);
                      const rec = cachedRows[idx];
                      const langNow = getLang();
                      const uc = mapRowToUC(rec?.c || [], langNow);

                      const p = item.querySelector('.uc-desc');
                      const hasMedia = !!(uc.m || uc.h);

                      let needButton = hasMedia; // botÃ³n si hay media/link aunque el texto sea corto
                      if (p){
                        const fs = parseFloat(getComputedStyle(p).fontSize) || 16;
                        const maxPx = MAX_LINES * LINE_HEIGHT * fs;
                        const overflow = p.scrollHeight > maxPx * 1.02;
                        const longText = p.textContent.length > LENGTH_THRESHOLD;
                        if (overflow || longText) needButton = true;
                        if (overflow) p.classList.add('truncated');
                      }

                      if (needButton){
                        item.classList.add('uc-has-button');
                        let btn = item.querySelector('.uc-read-more');
                        if (!btn){
                          btn = document.createElement('button');
                          btn.type = 'button';
                          btn.className = 'uc-read-more';
                          item.appendChild(btn);
                        }
                        btn.textContent = (langNow==='EN') ? 'Read more' : 'Leer mÃ¡s';
                      }
                    });

                    // Sincroniza modal si estÃ¡ abierto (re-render idioma)
                    if (openIndex !== null && openIndex >= 0 && openIndex < cachedRows.length){
                      const uc = mapRowToUC(cachedRows[openIndex]?.c || [], lang);
                      openUCModal({ title: uc.t || '', body: uc.d || '', media: uc.m, href: uc.h, poster: uc.p, lang }, openIndex);
                    }

                    // Texto del botÃ³n cerrar
                    if (modalCloseBtn){
                      modalCloseBtn.textContent = (lang==='EN') ? 'âœ• Close' : 'âœ• Cerrar';
                      modalCloseBtn.setAttribute('aria-label', (lang==='EN') ? 'Close' : 'Cerrar');
                    }
                  }

                  async function fetchUCAndRender(){
                    const grid = ROOT.querySelector('.uc-grid');
                    if (!grid) return;
                    grid.innerHTML = '';

                    try{
                      const res = await fetch(jsonUrl, { cache:'no-store' });
                      const txt = await res.text();
                      const i = txt.indexOf('setResponse('), j = txt.lastIndexOf(');');
                      if (i === -1 || j === -1){
                        grid.innerHTML = `<div style='padding:16px;color:#f88'>No pude leer el Sheet (GViz).</div>`;
                        return;
                      }
                      const data = JSON.parse(txt.substring(i + 'setResponse('.length, j));
                      let rows = data?.table?.rows || [];
                      if (!rows.length){
                        grid.innerHTML = `<div style='padding:16px;color:#f88'>Hoja vacÃ­a.</div>`;
                        return;
                      }

                      // Quita encabezado (primera fila)
                      rows = rows.slice(1);

                      cachedRows = rows;
                      renderUCForLang(getLang());
                    }catch(err){
                      console.error(err);
                      grid.innerHTML = `<div style='padding:16px;color:#f88'>Error al leer la hoja.</div>`;
                    }
                  }

                  // DelegaciÃ³n: abrir modal
                  ROOT.addEventListener('click', (e)=>{
                    const btn = e.target.closest?.('.uc-read-more');
                    if (!btn || !ROOT.contains(btn)) return;
                    const item = btn.closest('.uc-item');
                    if (!item) return;
                    const idx = Number(item.dataset.rowIndex || -1);
                    if (idx < 0) return;

                    const lang = getLang();
                    const uc = mapRowToUC(cachedRows[idx]?.c || [], lang);
                    openUCModal({ title: uc.t || '', body: uc.d || '', media: uc.m, href: uc.h, poster: uc.p, lang }, idx);
                  });

                  // Inicial + re-render por idioma
                  window.addEventListener('load', fetchUCAndRender);
                  window.addEventListener('languagechange', () => renderUCForLang(getLang()));
                  window.addEventListener('storage', ev => { if (ev.key === 'site:lang') renderUCForLang(getLang()); });
                })();
              </script>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script src="https://unpkg.com/blaze-slider@latest/dist/blaze-slider.min.js"></script>
    <script
      defer=""
      src="https://unpkg.com/@teleporthq/teleport-custom-scripts"
    ></script>
  </body>
</html>
